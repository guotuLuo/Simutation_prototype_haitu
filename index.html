<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Simulation</title>
    <link rel="stylesheet" href="css/overlay.css">
    <link rel="stylesheet" href="css/modal.css">
    <link rel="stylesheet" href="css/custom-dialog.css">
    <link rel="stylesheet" href="css/divider.css">
    <link rel="stylesheet" href="css/menu-bar.css">
    <link rel="stylesheet" href="css/tool-bar.css">
    <link rel="stylesheet" href="css/object.css">
    <link rel="stylesheet" href="css/radar.css">
    <link rel="stylesheet" href="css/side-bar.css">
    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/title-bar.css" />
    <link rel="stylesheet" href="leaflet/leaflet.css" />
    <script src="leaflet/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <!-- 顶部区域 -->
    <div class="top-bar">
        <!-- 顶部区域 -->
        <div class="title-bar">
            <!-- 图标区域 -->
            <div class="icon-column">
                <img src="images/fzkf.png" alt="图标" id="topIcon" onclick="onIconClick()">
            </div>

            <!-- 右侧区域：标题栏和菜单栏 -->
            <div class="right-column">
                <!-- 标题栏 -->
                <div class="title">
                    未命名态势.dpsp
                </div>

                <!-- 菜单栏 -->
                <div class="menu-bar">
                    <ul>
                        <li>
                            <a href="#">文件</a>
                            <ul class="sub-menu">
                                <li><a href="#">保存文件</a></li>
                                <li><a href="#">打开文件</a></li>
                                <li><a href="#">关闭文件</a></li>
                            </ul>
                        </li>
                        <li><a href="#">编辑</a></li>
                        <li><a href="#">调试</a></li>
                        <li><a href="#">分析</a></li>
                        <li><a href="#">查看</a></li>
                        <li><a href="#">工具</a></li>
                        <li><a href="#">窗口</a></li>
                        <li><a href="#">帮助</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 分隔线 -->
        <div class="divider"></div>

        <!-- 工具栏 -->
        <div class="tool-bar">
            <div class="button-group">
                <button data-action="start" title="开始">
                    <img data-action="start" src="images/start.png" alt="全屏" />
                </button>

                <button data-action="stop" title="停止">
                    <img data-action="stop" src="images/stop.png" alt="全屏" />
                </button>

                <button data-action="refresh" title="复原">
                    <img data-action="refresh" src="images/refresh.png" alt="全屏" />
                </button>
            </div>

            <div class="separator"></div>

            <div class="button-group">
                <button data-action="generate" title="生成">
                    <img data-action="generate" src="images/generate.png" alt="全屏" />
                </button>

                <button data-action="delete" title="删除">
                    <img data-action="delete" src="images/delete.png" alt="全屏" />
                </button>

                <button data-action="reset" title="复位">
                    <img data-action="reset" src="images/reset.png" alt="全屏" />
                </button>

                <button data-action="center" title="中心">
                    <img data-action="center" src="images/center.png" alt="全屏" />
                </button>
            </div>

            <div class="separator"></div>

            <div class="button-group">
                <button data-action="match" title="匹配连接">
                    <img data-action="match" src="images/match.png" alt="全屏" />
                </button>

                <button data-action="evaluate" title="评估">
                    <img data-action="evaluate" src="images/evaluate.png" alt="全屏" />
                </button>
            </div>

            <div class="separator"></div>

            <div class="button-group">
                <button data-action="setting" title="设置">
                    <img data-action="setting" src="images/setting.png" alt="设置" />
                </button>
            </div>



            <!-- 右侧显示按钮 -->
            <button id="toggle-full" data-action="toggle-full" title="全屏">
                <img data-action="toggle-full" src="images/full-screen.png" alt="全屏" />
            </button>

            <button id="toggle-sidebar" data-action="toggle-sidebar" title="向左收起">
                <img data-action="toggle-sidebar" src="images/collapseLeft.png" alt="向左收起" />
            </button>

            <button id="toggle-radarbar" data-action="toggle-radarbar" title="向右收起">
                <img data-action="toggle-radarbar" src="images/collapseRight.png" alt="向右收起" />
            </button>
        </div>
    </div>

    <!-- 分隔线 -->
    <div class="divider"></div>

    <div class="main-container">
        <div class="side-bar">
            <button class="nav-button" data-submenu="submenu1">
                <img src="images/down.png" alt="expand" class="expand-icon" data-action="expand">
                <span class="button-text" data-action="expand">Radar</span>
                <img src="images/add.png" alt="add" class="add-icon" data-action="add">
            </button>

            <ul id="submenu1" class="submenu" style="display: none;">
<!--                <li draggable="true" data-type="radar">radar</li>-->
            </ul>

            <button class="nav-button" data-submenu="submenu2">
                <img src="images/down.png" alt="expand" class="expand-icon" data-action="expand">
                <span class="button-text" data-action="expand">Reconnaissance</span>
                <img src="images/add.png" alt="add" class="add-icon" data-action="add">
            </button>

            <ul id="submenu2" class="submenu" style="display: none;">
<!--                <li draggable="true" data-type="reconnaissance">reconnaissance</li>-->
            </ul>

            <button class="nav-button" data-submenu="submenu3">
                <img src="images/down.png" alt="expand" class="expand-icon" data-action="expand">
                <span class="button-text" data-action="expand">Object</span>
                <img src="images/add.png" alt="add" class="add-icon" data-action="add">
            </button>

            <ul id="submenu3" class="submenu" style="display: none;">
<!--                <li draggable="true" data-type="object">object</li>-->
            </ul>


            <button class="nav-button" data-submenu="submenu4">
                <img src="images/down.png" alt="expand" class="expand-icon" data-action="expand">
                <span class="button-text" data-action="expand">Jamming</span>
                <img src="images/add.png" alt="add" class="add-icon" data-action="add">
            </button>

            <ul id="submenu4" class="submenu" style="display: none;">
<!--                <li draggable="true" data-type="jamming">jamming</li>-->
            </ul>

        </div>
        <div class="map-container">
            <div id="map" style="height: 100%; width: 100%;"></div>
        </div>

        <div id="context-menu" style="display:none; position: absolute; background-color: white; border: 1px solid #ccc; padding: 5px; z-index: 1000;">
            <ul style="list-style-type: none; margin: 0; padding: 0;">
                <li id="start-flight">飞行</li>
                <li id="delete">删除</li>
                <li id="start-scan">扫描</li>
            </ul>
        </div>

        <div class="radar-display" id="radar-container">
            <!-- 雷达组件将在这里动态生成 -->
        </div>
    </div>


    <section class="modal hidden" role="dialog" aria-labelledby="modalTitle" aria-hidden="true">

        <div class="modal__header flex">
            <div class="header-buttons">
                <button id="page1Btn" class="btn">设备参数设置</button>
                <button id="page2Btn" class="btn">环境参数设置</button>
            </div>

            <button class="btn-close" aria-label="Close modal">⨉</button>
        </div>


        <div class="modal__content page1 active">
            <!-- 左侧列表 -->
            <div class="modal__left">
                <ul id="objectList">

                </ul>
            </div>

            <div class="modal__middle">
                <form id="objectPropertiesForm">
                    <div class="form-row">
                        <label for="objectName">名称</label>
                        <span id="objectName">Name</span>
                    </div>

                    <div class="form-row">
                        <label for="objectType">设备类型</label>
                        <span id="objectType">Device Type</span>
                    </div>

                    <div class="form-row">
                        <label for="objectBatch">批次号</label>
                        <span id="objectBatch">Batch Information</span>
                    </div>

                    <!-- 单选框 -->
                    <div class="form-row">
                        <label>身份</label>
                        <div class="radio-group">
                            <input type="radio" id="radio1" name="identity" value="1">
                            <label for="radio1">敌方</label>

                            <input type="radio" id="radio2" name="identity" value="2" checked>
                            <label for="radio2">中立</label>

                            <input type="radio" id="radio3" name="identity" value="3">
                            <label for="radio3">我方</label>
                        </div>
                    </div>

                    <div class="form-row">
                        <label for="objectModel">型号</label>
                        <span id="objectModel">UnKnown</span>
                    </div>

                    <div class="form-row">
                        <label for="objectSpeed">初速度</label>
                        <span id="objectSpeed">Speed</span>
                    </div>

                    <div class="form-row">
                        <label for="objectReflect">反射截面积</label>
                        <span id="objectReflect">Reflect Area</span>
                    </div>

                    <!-- 下拉框 -->
                    <div class="form-row">
                        <label for="dropDownDevice">设备状态</label>
                        <select id="dropDownDevice" name="options">
                            <option value="开机">开机</option>
                            <option value="发射">发射</option>
                            <option value="故障">故障</option>
                            <option value="关机">关机</option>
                        </select>
                    </div>

                    <!-- 下拉框 -->
                    <div class="form-row">
                        <label for="dropDownPrototype">样机用途</label>
                        <select id="dropDownPrototype" name="options">
                            <option value="背景目标">背景目标</option>
                            <option value="预警雷达">预警雷达</option>
                            <option value="超视距雷达">侦察</option>
                            <option value="干扰">干扰</option>
                        </select>
                    </div>
                </form>
                <button class="btn" type="button">保存</button>
           </div>

            <div class="modal__right">
                <form id="objectPropertiesFormRight">
                    <div class="form-row">
                        <label>频段</label>
                        <div class="dropdown">
                            <div class="selected">
                                <div class="selected-values"></div>
                                <span class="arrow"></span>
                            </div>
                            <div class="options">
                                <label>
                                    <input type="checkbox" value="0"> 0
                                </label>
                                <label>
                                    <input type="checkbox" value="10-30MHz"> 10-30MHz
                                </label>
                                <label>
                                    <input type="checkbox" value="30-300MHz"> 30-300MHz
                                </label>
                                <label>
                                    <input type="checkbox" value="300MHz-1GHz"> 300MHz-1GHz
                                </label>
                                <label>
                                    <input type="checkbox" value="1-2GHz"> 1-2GHz
                                </label>
                                <!-- 根据需要添加更多选项 -->
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <label for="objectKeyPoint">轨迹关键点</label>
                        <span id="objectKeyPoint">轨迹关键点</span>
                    </div>
                </form>
                <button class="btn" type="button">取消</button>
            </div>
        </div>


        <!-- Page 2 content -->
        <div class="modal__content page2">
            <div class="envi__modal__left">
                <form id="enviPropertiesForm">
                    <div class="form-row">
                        <label for="threadNum">线程数量</label>
                        <input id="threadNum"  value="1">
                    </div>

                    <div class="form-row">
                        <label for="timeScale">时间标尺</label>
                        <input id="timeScale"  value="1000">
                    </div>

                    <div class="form-row">
                        <label for="timeSlice">时间片</label>
                        <input id="timeSlice"  value="1000">
                    </div>


                    <div class="form-row">
                        <label for="clutterLevel">杂波等级</label>
                        <input id="clutterLevel"  value="1">
                    </div>

                    <!-- 下拉框 -->
                    <div class="form-row">
                        <label for="dropDownClutterType">杂波类型</label>
                        <select id="dropDownClutterType" name="options">
                            <option value="无杂波">无杂波</option>
                            <option value="一级海杂波">一级海杂波</option>
                            <option value="二级海杂波">二级海杂波</option>
                            <option value="三级海杂波">三级海杂波</option>
                            <option value="四级海杂波">四级海杂波</option>
                            <option value="五级海杂波">五级海杂波</option>
                        </select>
                    </div>

                    <!-- 下拉框 -->
                    <div class="form-row">
                        <label for="dropDownClutterModel">杂波模型</label>
                        <select id="dropDownClutterModel" name="options">
                            <option value="均匀分布">均匀分布</option>
                            <option value="正态分布">正态分布</option>
                            <option value="瑞利分布">瑞利分布</option>
                            <option value="韦布尔分布">韦布尔分布</option>
                        </select>
                    </div>
                </form>
                <button class="btn" type="button">保存</button>
            </div>


            <div class="envi__modal__right">
                <form id="enviPropertiesFormRight">
                    <div class="form-row">
                        <label for="simulationCenter">场景仿真零点</label>
                        <span id="simulationCenter">(0,0)</span>
                    </div>

                    <div class="form-row">
                        <label for="instanceNumber">样机数量</label>
                        <span id="instanceNumber">0</span>
                    </div>


                    <div class="form-row">
                        <label for="refreshRate">场景刷新时间</label>
                        <input id="refreshRate"  value="100">
                        <span id="unit">ms</span>
                    </div>

                    <div class="form-row">
                        <label for="IP">ip</label>
                        <input id="IP"  value="127.0.0.1">
                    </div>
                </form>
                <button class="btn" type="button">取消</button>
            </div>
        </div>




</section>
    <!--    遮罩层 -->
    <!--    <div class="overlay hidden"></div>-->




    <!-- 引入各个模块的脚本 -->
    <script src="leaflet/leaflet.js"></script>
    <script src="json/three.js"></script>
    <script type="module" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script type="module" src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="module" src="js/utils/GenerateUUID.js"></script>
    <script type="module" src="js/utils/InputTextDialog.js"></script>
    <script type="module" src="js/utils/CreateSubMenuLi.js"></script>
    <script type="module" src="js/utils/PageEventControl.js"></script>
    <script type="module" src="js/utils/CreateXMLDoc.js"></script>

    <script type="module" src="js/bars/setting/device_modal_left.js"></script>
    <script type="module" src="js/bars/setting/device_modal_right.js"></script>
    <script type="module" src="js/bars/setting/deivce_modal_header.js"></script>
    <script type="module" src="js/bars/sidebar.js"></script>
    <script type="module" src="js/bars/toolbar.js"></script>
    <script type="module" src="js/bars/topIcon.js"></script>
    <script type="module" src="js/bars/menubar.js"></script>


    <script type="module" src="js/contextMenus/contextMenu.js"></script>
    <script type="module" src="js/contextMenus/AirplaneContextMenu.js"></script>
    <script type="module" src="js/contextMenus/RadarContextMenu.js"></script>
    <script type="module" src="js/contextMenus/ReconnaissanceContextMenu.js"></script>
    <script type="module" src="js/contextMenus/JammingContextMenu.js"></script>

    <script type="module" type="module" src="js/mapController.js"></script>
    <script type="module" src="js/point.js"></script>

    <script type="module" src="js/components/airplane.js"></script>
    <script type="module" src="js/components/radar.js"></script>
    <script type="module" src="js/components/reconnaissance.js"></script>
    <script type="module" src="js/components/jamming.js"></script>
    <script type="module" src="js/components/componentManager.js"></script>

    <script type="module" src="js/factories/ComponentFactory.js"></script>
    <script type="module" src="js/factories/MenuFactory.js"></script>

    <script type="module" src="js/main.js"></script>
</body>
</html>
